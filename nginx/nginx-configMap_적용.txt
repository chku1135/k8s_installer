#nginx configMap 적용

1.configMap으로 Nginx 설정 정의
nginx-config.yaml 작성
kubectl apply -f nginx-config.yaml

2.nginx deployment 설정
nginx-deployment 작성
kubectl apply -f nginx-deployment.yaml

3.jenkins service 확인
vi jenkins-service.yaml >> service가 노출되어 있어야 함
vi jenkins-deployment.yaml >> app: jenkins 실행 중인지 확인

4. nignx service 노출
nginx-service.yaml 작성
kubectl apply -f nginx-service.ayml

5. pod 재시작 및 설정 검증
kubectl roolout restart deployment nignx-deployment-n <네임스페이스>
kubectl roolout restart deployment nignx-deployment-n default

nginx 설정 확인
kubectl get pod
kubectl exec -it <nginx-pod-name> -n <네임스페이스> --nginx -t
 > (정상) nginx: configuration file /etc/nginx/nginx.conf test is successful

프록시 헤더 정상 작동 확인
curl -I http://<nginx-service-url>
