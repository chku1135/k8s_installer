#troubleshooting
#container runtime is not running
sudo rm /etc/containerd/config.toml
sudo systemctl restart containerd
sudo kubeadm init

#calico cidr 수정



## 베이그란트 k8s 구성
https://velog.io/@dongs52/Vagrant-%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-Kubernetes-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1

1. 베이그란트 설치
https://developer.hashicorp.com/vagrant/install
 >> os 버전에 맞게 download

or 

https://github.com/sysnet4admin/_Lecture_k8s_starter.kit/tree/main


k8s 정리

Deployment
 - ReplicaSet : pod replica 항상 유지 되도록 보장
 - 업데이트(배포) 방식 : 
        블루/그린 : pod 한번에/동시에 진행
        롤링 : 하니씩 순차 진행
        카나리 : version 별로 (ex 일부 신버전, 일부는 구버전)

StatefulSet
 pod 관리를 위한 controller > pod 고유성, 순서 보장
 - Database : master node 기동 후 worker node 순차적 기동 때 사용
 - 개별 pod PV 생성하여 연결 > pod 비정상 종료 후 new pod가 기존 pod에 연결된 pv를 담당

DemonSet
cluster 운영 시 기본적인 노드-로컬 기능 제공

Job&CronJob
 Job : 실행 완료 후 중단
 CronJob : 반복 일정에 따라 job 생성
 작업유형 :
    Non-Parllel jobs
    Parallel jobs with a Fixed complete count
    Parallel jobs with a work queue

Service
 pod는 언제든지 생성/삭제 가능한 비영구적 리소스 > pod 접근 시 service라는 오브젝트 이용
 서비스 종류
    ClusterIP : k8s 내부에서만 접근
    NodePort : 외부에서도 접근 가능. 모든 node에 동일한 port 개방
    LoadBalancer : 클라우드 서비스의 로드벨런서 사용

ConfigMap


##metalLB(LoadBalancer)

##각종 guide 자료
https://www.oss.kr/solution_guide
