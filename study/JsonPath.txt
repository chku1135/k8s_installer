#JsonPath

#kubectl 정보 확인
kubectl get nodes -o wide


#node 이름 추출
kubectl get nodes -o=jsonpath='{.items[*].metadata.name}'

#하드웨어 아키텍처 추출
kubectl get nodes -o=jsonpath='{.items[*].status.nodeInfo.architecture}'

#노드 cpu 개수 추출
kubectl get nodes -o=jsonpath='{.items[*].status.capacity.cpu}'

#tab(\t) or New line(\n) 사용
(예제)
kubectl get nodes -o=jsonpath='{.items[*].metadata.name} {"\n"} {.items[*].status.capacity.cpu}'

#loops(Range) 사용
(예제)
kubectl get nodes -o=jsonpath='{range .items[*]}{.metadata.name} {"\t"} {.status.capacity.cpu}{"\n"}{end}'

#사용자 정의 열(custom column)
--custom-columns="<열 이름>:<JSONPath 쿼리>,<열 이름>:<JSONPath 쿼리>,... 형식으로 사용한다.
(예제)
kubectl get nodes --custom-columns="NODE:.metadata.name,CPU:.status.capacity.cpu"

#정렬(Sort By)
--sort-by=<JSONPath 쿼리> 옵션을 사용

(예제)
kubectl get nodes --sort-by=.metadata.name: 노드 이름을 기준으로 오름차순 정렬하여 출력한다.
kubectl get nodes --sort-by=.status.capacity.cpu: CPU 개수를 기준으로 오름차순 정렬하여 출력한다.


